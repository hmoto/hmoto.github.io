(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-71accf2c"],{"033e":function(e,t,s){"use strict";var a=s("fd6c"),n=s.n(a);n.a},"0418":function(e,t,s){"use strict";var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"header"},[s("div",{directives:[{name:"show",rawName:"v-show",value:e.isLeft,expression:"isLeft"}],staticClass:"header-button is-left"},[s("i",{staticClass:"fa fa-chevron-left"}),s("button",{on:{click:function(t){return e.$router.go(-1)}}},[e._v("返回")])]),s("h1",{staticClass:"header-title"},[e._v(e._s(e.title))])])},n=[],r={name:"Header",props:{title:String,isLeft:{type:Boolean,dafault:!1}}},o=r,c=(s("8a8a"),s("2877")),i=Object(c["a"])(o,a,n,!1,null,"2609c7f0",null);t["a"]=i.exports},"0e45":function(e,t,s){"use strict";s.r(t);var a=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"addAddress"},[s("Header",{attrs:{isLeft:!0,title:e.title}}),s("div",{staticClass:"viewbody"},[s("div",{staticClass:"content"},[s("FormBlock",{attrs:{label:"联系人",placeholder:"姓名",tags:e.sexes,sex:e.addressInfo.sex},on:{checkSex:e.checkSex},model:{value:e.addressInfo.name,callback:function(t){e.$set(e.addressInfo,"name",t)},expression:"addressInfo.name"}}),s("FormBlock",{attrs:{label:"电话",placeholder:"手机号码"},model:{value:e.addressInfo.phone,callback:function(t){e.$set(e.addressInfo,"phone",t)},expression:"addressInfo.phone"}}),s("FormBlock",{attrs:{label:"地址",placeholder:"小区/写字楼/学校",icon:"angle-right"},on:{click:function(t){e.showSearch=!0}},model:{value:e.addressInfo.address,callback:function(t){e.$set(e.addressInfo,"address",t)},expression:"addressInfo.address"}}),s("FormBlock",{attrs:{label:"门牌号",placeholder:"10号楼5单元404",icon:"edit",textarea:"textarea"},model:{value:e.addressInfo.button,callback:function(t){e.$set(e.addressInfo,"button",t)},expression:"addressInfo.button"}}),s("div",{staticClass:"formblock"},[s("div",{staticClass:"label-wrap"},[e._v("标签")]),s("TabTag",{attrs:{tags:e.tags,selectedTag:e.addressInfo.tag},on:{checkTag:e.checkTag}})],1)],1),s("div",{staticClass:"form-button-wrap"},[s("button",{staticClass:"form-button",on:{click:e.handleSave}},[e._v("确定")])])]),s("AddressSearch",{attrs:{showSearch:e.showSearch,addressInfo:e.addressInfo},on:{close:function(t){e.showSearch=!1}}})],1)},n=[],r=(s("99af"),s("b0c0"),s("0418")),o=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"formblock"},[s("div",{staticClass:"label-wrap"},[e._v(e._s(e.label))]),s("div",{staticClass:"input-group-wrap",on:{click:function(t){return e.$emit("click")}}},[s("div",{staticClass:"input-wrap"},[e.textarea?s("textarea",{attrs:{type:e.type,placeholder:e.placeholder,rows:"2",maxlength:"100"},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}):s("input",{attrs:{type:e.type,placeholder:e.placeholder},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e.icon?s("i",{class:"fa fa-"+e.icon}):e._e()]),e.tags?s("TabTag",{attrs:{tags:e.tags,selectedTag:e.sex},on:{checkTag:e.checkTag}}):e._e()],1)])},c=[],i=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"input-wrap"},e._l(e.tags,(function(t,a){return s("span",{key:a,staticClass:"form-span",class:{checked:e.selectedTag==t},on:{click:function(s){return e.$emit("checkTag",t)}}},[e._v(" "+e._s(t)+" ")])})),0)},d=[],l={name:"TabTag",props:{tags:Array,selectedTag:String},created:function(){}},u=l,f=(s("54cf1"),s("2877")),h=Object(f["a"])(u,i,d,!1,null,"449f55fb",null),p=h.exports,v={name:"FormBlock",props:{type:{type:String,default:"text"},label:String,value:String,placeholder:String,icon:String,textarea:String,tags:Array,sex:String},methods:{checkTag:function(e){this.$emit("checkSex",e)}},components:{TabTag:p}},g=v,m=(s("033e"),Object(f["a"])(g,o,c,!1,null,"1497369a",null)),b=m.exports,x=function(){var e=this,t=e.$createElement,s=e._self._c||t;return e.showSearch?s("div",{staticClass:"addressSearch"},[s("div",{staticClass:"search-view"},[s("div",{staticClass:"search-box"},[s("div",{staticClass:"search-box-input"},[s("i",{staticClass:"fa fa-search"}),s("input",{directives:[{name:"model",rawName:"v-model",value:e.search_address,expression:"search_address"}],attrs:{type:"text",placeholder:"请输入小区/写字楼/学校等"},domProps:{value:e.search_address},on:{input:function(t){t.target.composing||(e.search_address=t.target.value)}}})]),s("button",{staticClass:"search-box-btn",on:{click:function(t){return e.$emit("close")}}},[e._v("取消")])]),s("ul",{staticClass:"search-list"},e._l(e.areaList,(function(t,a){return s("li",{key:a,staticClass:"search-row",on:{click:function(s){return e.selectAddress(t)}}},[s("p",{staticClass:"search-row-title"},[e._v(e._s(t.name))]),s("p",{staticClass:"search-row-location"},[e._v(e._s(t.district)+e._s(t.address))])])})),0)])]):e._e()},_=[],w=(s("ac1f"),s("841c"),{name:"AddressSearch",props:{showSearch:Boolean,addressInfo:Object},data:function(){return{search_address:"",areaList:[]}},computed:{city:function(){return this.$store.getters.location.addressComponent.city||this.$store.getters.location.addressComponent.province}},watch:{search_address:function(e){this.searchPlace(e)}},methods:{searchPlace:function(e){var t=this;AMap.plugin("AMap.Autocomplete",(function(){var s={city:t.city},a=new AMap.Autocomplete(s);a.search(e,(function(e,s){t.areaList=s.tips}))}))},selectAddress:function(e){this.addressInfo.address=e.name+e.district+e.address,this.$emit("close")}}}),k=w,I=(s("7442"),Object(f["a"])(k,x,_,!1,null,"5f8bb00f",null)),S=I.exports,C=s("08ae"),$={name:"AddAddress",data:function(){return{title:"",tags:["家","学校","公司"],sexes:["先生","女士"],addressInfo:{},showSearch:!1}},beforeRouteEnter:function(e,t,s){s((function(t){t.addressInfo=e.params.addressInfo,t.title=e.params.title}))},methods:{checkTag:function(e){this.addressInfo.tag=e},checkSex:function(e){this.addressInfo.sex=e},handleSave:function(){this.addressInfo.name?this.addressInfo.phone?this.addressInfo.address?"添加地址"==this.title?this.addAddress():this.editAddress():this.showMsg("请输入收货地址"):this.showMsg("请输入手机号"):this.showMsg("请输入联系人")},showMsg:function(e){Object(C["Toast"])({message:e,position:"bottom",duration:2e3})},addAddress:function(){var e=this;this.$axios.post("/api/user/add_address/".concat(localStorage.ele_login),this.addressInfo).then((function(t){e.$store.getters.userInfo||e.$store.dispatch("setUserInfo",e.addressInfo),e.$router.push("myAddress")})).catch((function(e){return console.log(e)}))},editAddress:function(){var e=this;this.$axios.post("/api/user/edit_address/".concat(localStorage.ele_login,"/").concat(this.addressInfo._id),this.addressInfo).then((function(t){e.$router.push("/myAddress")}))}},components:{Header:r["a"],FormBlock:b,TabTag:p,AddressSearch:S}},y=$,T=(s("7392"),Object(f["a"])(y,a,n,!1,null,"c97324c6",null));t["default"]=T.exports},"129f":function(e,t){e.exports=Object.is||function(e,t){return e===t?0!==e||1/e===1/t:e!=e&&t!=t}},"183b":function(e,t,s){},"1dde":function(e,t,s){var a=s("d039"),n=s("b622"),r=s("2d00"),o=n("species");e.exports=function(e){return r>=51||!a((function(){var t=[],s=t.constructor={};return s[o]=function(){return{foo:1}},1!==t[e](Boolean).foo}))}},"54cf1":function(e,t,s){"use strict";var a=s("558e"),n=s.n(a);n.a},"558e":function(e,t,s){},7392:function(e,t,s){"use strict";var a=s("183b"),n=s.n(a);n.a},7442:function(e,t,s){"use strict";var a=s("7faa"),n=s.n(a);n.a},"7faa":function(e,t,s){},8418:function(e,t,s){"use strict";var a=s("c04e"),n=s("9bf2"),r=s("5c6c");e.exports=function(e,t,s){var o=a(t);o in e?n.f(e,o,r(0,s)):e[o]=s}},"841c":function(e,t,s){"use strict";var a=s("d784"),n=s("825a"),r=s("1d80"),o=s("129f"),c=s("14c3");a("search",1,(function(e,t,s){return[function(t){var s=r(this),a=void 0==t?void 0:t[e];return void 0!==a?a.call(t,s):new RegExp(t)[e](String(s))},function(e){var a=s(t,e,this);if(a.done)return a.value;var r=n(e),i=String(this),d=r.lastIndex;o(d,0)||(r.lastIndex=0);var l=c(r,i);return o(r.lastIndex,d)||(r.lastIndex=d),null===l?-1:l.index}]}))},"8a8a":function(e,t,s){"use strict";var a=s("e596"),n=s.n(a);n.a},"99af":function(e,t,s){"use strict";var a=s("23e7"),n=s("d039"),r=s("e8b5"),o=s("861d"),c=s("7b0b"),i=s("50c4"),d=s("8418"),l=s("65f0"),u=s("1dde"),f=s("b622"),h=s("2d00"),p=f("isConcatSpreadable"),v=9007199254740991,g="Maximum allowed index exceeded",m=h>=51||!n((function(){var e=[];return e[p]=!1,e.concat()[0]!==e})),b=u("concat"),x=function(e){if(!o(e))return!1;var t=e[p];return void 0!==t?!!t:r(e)},_=!m||!b;a({target:"Array",proto:!0,forced:_},{concat:function(e){var t,s,a,n,r,o=c(this),u=l(o,0),f=0;for(t=-1,a=arguments.length;t<a;t++)if(r=-1===t?o:arguments[t],x(r)){if(n=i(r.length),f+n>v)throw TypeError(g);for(s=0;s<n;s++,f++)s in r&&d(u,f,r[s])}else{if(f>=v)throw TypeError(g);d(u,f++,r)}return u.length=f,u}})},b0c0:function(e,t,s){var a=s("83ab"),n=s("9bf2").f,r=Function.prototype,o=r.toString,c=/^\s*function ([^ (]*)/,i="name";!a||i in r||n(r,i,{configurable:!0,get:function(){try{return o.call(this).match(c)[1]}catch(e){return""}}})},e596:function(e,t,s){},fd6c:function(e,t,s){}}]);