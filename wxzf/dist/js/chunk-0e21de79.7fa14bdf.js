(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-0e21de79"],{"2fb0":function(e,t,n){},"2fec":function(e,t,n){},"5dc8":function(e,t,n){"use strict";var i=n("2fb0"),o=n.n(i);o.a},6281:function(e,t,n){"use strict";var i=n("2fec"),o=n.n(i);o.a},a55b:function(e,t,n){"use strict";n.r(t);var i=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login"},[e._m(0),n("InputGroup",{attrs:{type:"number",placeholder:"手机号",btnTitle:e.btnTitle,disabled:e.disabled,error:e.errors.phone},on:{btnClick:e.getVerifyCode},model:{value:e.phone,callback:function(t){e.phone=t},expression:"phone"}}),n("InputGroup",{attrs:{type:"number",placeholder:"验证码",error:e.errors.code},model:{value:e.verifyCode,callback:function(t){e.verifyCode=t},expression:"verifyCode"}}),e._m(1),n("div",{staticClass:"login_btn"},[n("button",{attrs:{disabled:e.isClick},on:{click:e.handleLogin}},[e._v("登录")])])],1)},o=[function(){var e=this,t=e.$createElement,i=e._self._c||t;return i("div",{staticClass:"logo"},[i("img",{attrs:{src:n("b640"),alt:"my login image"}})])},function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"login_des"},[n("p",[e._v("新用户登录即自动注册，表示已经同意"),n("span",[e._v("《用户服务协议》")])])])}],r=function(){var e=this,t=e.$createElement,n=e._self._c||t;return n("div",{staticClass:"text_group"},[n("div",{staticClass:"input_group",class:{"is-invalid":e.error}},[n("input",{attrs:{type:e.type,placeholder:e.placeholder,name:e.name},domProps:{value:e.value},on:{input:function(t){return e.$emit("input",t.target.value)}}}),e.btnTitle?n("button",{attrs:{disabled:e.disabled},on:{click:function(t){return e.$emit("btnClick")}}},[e._v(e._s(e.btnTitle))]):e._e()]),e.error?n("div",{staticClass:"invalid-feedback"},[e._v(e._s(e.error))]):e._e()])},s=[],a={name:"inputGroup",props:{type:{type:String,default:"text"},value:String,placeholder:String,name:String,btnTitle:String,disabled:Boolean,error:String}},l=a,c=(n("5dc8"),n("2877")),d=Object(c["a"])(l,r,s,!1,null,"2087ee2a",null),u=d.exports,p={name:"login",data:function(){return{phone:"",verifyCode:"",errors:{},btnTitle:"获取验证码",disabled:!1}},computed:{isClick:function(){return!this.phone||!this.verifyCode}},methods:{handleLogin:function(){var e=this;this.errors={},this.$axios.post("/api/posts/sms_back",{phone:this.phone,code:this.verifyCode}).then((function(t){localStorage.setItem("ele_login",t.data.user._id),e.$router.push("/")})).catch((function(t){e.errors={code:t.response.data.msg}}))},validateBtn:function(){var e=this,t=60,n=setInterval((function(){0==t?(clearInterval(n),e.btnTitle="获取验证码",e.disabled=!1):(e.btnTitle=t+"s后重试",e.disabled=!0,t--)}),1e3)},getVerifyCode:function(){this.validatePhone()&&(this.validateBtn(),this.$axios.post("/api/posts/sms_send",{appid:"16d0ef64d28b45359f53efd85433a81f",sid:"2609b9d5062008c07369147b9bfdac11",token:"72f3c21595441bb20eafdf2a60b6f4d8",templateid:"534169",phone:this.phone}).then((function(e){console.log(e)})))},validatePhone:function(){return this.phone?/^1[345678]\d{9}$/.test(this.phone)?(this.errors={},!0):(this.errors={phone:"请填写正确的手机号码"},!1):(this.errors={phone:"手机号码不能为空"},!1)}},components:{InputGroup:u}},f=p,h=(n("6281"),Object(c["a"])(f,i,o,!1,null,"244e4a06",null));t["default"]=h.exports},b640:function(e,t,n){e.exports=n.p+"img/logo.87ab03f8.jpg"}}]);
//# sourceMappingURL=chunk-0e21de79.7fa14bdf.js.map